const themeBtn=document.querySelector(".theme-btn"),checkBtns=document.querySelectorAll(".task__btn-check"),taskDeleteBtns=document.querySelectorAll(".task__btn-delete"),clearTaksCompleteBtn=document.querySelector(".todo__items-clear"),taskAddInput=document.querySelector(".todo__input"),sortBtnAll=document.querySelector(".todo__sort-btn-all"),sortBtnActive=document.querySelector(".todo__sort-btn-active"),sortBtnCompleted=document.querySelector(".todo__sort-btn-completed"),todoList=document.querySelector(".todo__list"),inputBtnCheck=document.querySelector(".task__btn-check");Sortable.create(todoList);let theme=localStorage.getItem("theme");theme||setTheme("light"),setTheme(theme);const todoItemsInfo=document.querySelector(".todo__items-info-number"),todoOptions=document.querySelector(".todo__options"),todoTip=document.querySelector(".todo__tip");let itemsNumber=5,isNewTaskComplete=!1;function remove(a){a.remove(),"task--complete"!==a.classList[1]&&changeTasksNumberInfo("-"),checkTaskNodeNumber()}function markAsComplete(a){a.classList.toggle("task--complete"),"task--complete"===a.classList[1]?changeTasksNumberInfo("-"):changeTasksNumberInfo("+")}function markInputCheck(){const a=document.querySelector(".task__btn-check");a.classList.toggle("task__btn-check--inputActive"),isNewTaskComplete=!isNewTaskComplete,console.log("isNewTaskComplete: "+isNewTaskComplete)}function clearAllComplete(){const a=document.querySelectorAll(".task");a.forEach(a=>{"task--complete"===a.classList[1]&&a.remove()}),checkTaskNodeNumber()}function add(a){const b=document.querySelector(".todo__list"),c=document.createElement("li"),d=document.createElement("p"),e=document.createElement("btn"),f=document.createElement("img"),g=document.createElement("btn"),h=document.createElement("img"),i=document.querySelectorAll(".task");isNewTaskComplete?c.className="task task--complete":(c.className="task",changeTasksNumberInfo("+")),d.className="task__name",d.textContent=a,e.className="btn task__btn-check",e.addEventListener("click",()=>{markAsComplete(c)}),f.className="task__btn-check-icon",f.src="./images/icon-check.svg",f.alt="task complete",g.className="btn task__btn-delete",g.addEventListener("click",()=>{remove(c)}),h.src="./images/icon-cross.svg",h.alt="delete task",e.append(f),g.append(h),c.append(e),c.append(d),c.append(g),b.append(c),0===i.length&&showTodoOptions()}function checkTaskNodeNumber(){const a=document.querySelectorAll(".task");0===a.length&&hideTodoOptions()}function changeTasksNumberInfo(a){"-"===a?itemsNumber--:itemsNumber++,todoItemsInfo.textContent=itemsNumber}function hideTodoOptions(){todoOptions.classList.add("todo__options--hide"),todoTip.classList.add("todo__tip--hide")}function showTodoOptions(){todoOptions.classList.remove("todo__options--hide"),todoTip.classList.remove("todo__tip--hide")}function changeTheme(){"light"===theme?setTheme("dark"):setTheme("light")}function setTheme(a){const b=document.querySelector(".theme-btn-icon-moon"),c=document.querySelector(".theme-btn-icon-sun");"light"===a?(b.classList.remove("theme-btn-icon-moon--hide"),c.classList.add("theme-btn-icon-sun--hide")):(b.classList.add("theme-btn-icon-moon--hide"),c.classList.remove("theme-btn-icon-sun--hide")),theme=a,document.body.className="",document.body.classList.add(theme),localStorage.setItem("theme",theme)}themeBtn.addEventListener("click",changeTheme),clearTaksCompleteBtn.addEventListener("click",clearAllComplete),inputBtnCheck.addEventListener("click",markInputCheck),sortBtnAll.addEventListener("click",a=>{byAll(a)}),sortBtnActive.addEventListener("click",a=>{byActive(a)}),sortBtnCompleted.addEventListener("click",a=>{byCompleted(a)}),checkBtns.forEach(a=>{a.addEventListener("click",()=>{const b=a.parentElement;b.classList.contains("task")&&markAsComplete(b)})}),taskDeleteBtns.forEach(a=>{a.addEventListener("click",()=>{const b=a.parentElement;remove(b)})}),taskAddInput.addEventListener("keydown",a=>{if("Enter"===a.key&&""!==taskAddInput.value){const a=taskAddInput.value;add(a),taskAddInput.value=""}});function byAll(a){const b=document.querySelectorAll(".task");b.forEach(a=>a.classList.remove("task--hide")),markBtnAsActive(a.target)}function byActive(a){const b=document.querySelectorAll(".task");b.forEach(a=>{a.classList.contains("task--complete")?a.classList.add("task--hide"):a.classList.remove("task--hide")}),markBtnAsActive(a.target)}function byCompleted(a){const b=document.querySelectorAll(".task");b.forEach(a=>{a.classList.contains("task--complete")?a.classList.remove("task--hide"):a.classList.add("task--hide")}),markBtnAsActive(a.target)}function markBtnAsActive(a){const b=document.querySelectorAll(".todo__sort-btn");b.forEach(a=>a.classList.remove("todo__sort-btn--active")),a.classList.add("todo__sort-btn--active")}