const gameElements=["Scissors","Spock","Lizard","Rock","Paper"],gameRulesBtn=document.querySelector(".game__rulesBtn"),gameCurtain=document.querySelector(".game__curtain"),gameStart=document.querySelector(".game__start"),gameFinal=document.querySelector(".game__final"),gameFinalResult=document.querySelector(".game__finalResult"),gameFinalBtn=document.querySelector(".game__finalBtn"),gameCheck=document.querySelector(".game__check"),userPickInfo=document.querySelector(".game__checkInfoUserPick"),userPickInfoImg=getElementGrandChild(userPickInfo),computerPickInfoNone=document.querySelector(".game__checkInfoNone"),computerPickInfo=document.querySelector(".game__checkInfoComputerPick"),computerPickInfoImg=getElementGrandChild(computerPickInfo),scoreValue=document.querySelector(".score__value"),rulesModal=document.querySelector(".rulesModal"),closeModalBtn=document.querySelector(".rulesModal__closeBtn"),startGameBtns=document.querySelectorAll(".game__startBtn"),allBtns=document.querySelectorAll("button"),allAnchors=document.querySelectorAll("a");let points=localStorage.getItem("points");points||(points=0,localStorage.setItem("points",points)),scoreValue.textContent=points,startGameBtns.forEach(a=>a.addEventListener("click",()=>{const b=Math.floor(5*Math.random()),c=a.dataset.pick,d=gameElements[b],e=getResult(c,d),f=getElementGrandChild(a).src,g=document.querySelector(`.gameBtn${d}`),h=getElementGrandChild(g).src;userPickInfoImg.src=f,userPickInfoImg.alt=`${c} symbol`,userPickInfo.classList.add(`gameBtn${c}`),computerPickInfoImg.src=h,computerPickInfoImg.alt=`${d} symbol`,computerPickInfo.classList.add(`gameBtn${d}`),gameFinalResult.textContent=e,setTimeout(()=>{hideElement(gameStart),showElement(gameCheck)},500),setTimeout(()=>{hideElement(computerPickInfoNone),showElement(computerPickInfo)},1500),setTimeout(()=>{"YOU WIN"===e?(points++,userPickInfo.classList.add("game__checkInfoPick--active")):"YOU LOSE"===e&&(points--,computerPickInfo.classList.add("game__checkInfoPick--active")),scoreValue.textContent=points,localStorage.setItem("points",points),showElement(gameFinal)},2e3)})),gameRulesBtn.addEventListener("click",()=>{showModal(),window.addEventListener("click",a=>{const b=a.target.classList;b.contains("rulesModal")||b.contains("rulesModal__title")||b.contains("rulesModal__img")||b.contains("game__rulesBtn")||closeModal()})}),gameFinalBtn.addEventListener("click",()=>{document.location.reload()});function getElementGrandChild(a){return a.childNodes[0].childNodes[0]}function changeElementsTabindex(a,b){a.forEach(a=>a.setAttribute("tabindex",b))}function hideElement(a){a.classList.add(`${a.classList[0]}--hide`)}function showElement(a){a.classList.remove(`${a.classList[0]}--hide`)}function closeModal(){hideElement(rulesModal),hideElement(gameCurtain),changeElementsTabindex(allBtns,"0"),changeElementsTabindex(allAnchors,"0")}function showModal(){showElement(rulesModal),showElement(gameCurtain),changeElementsTabindex(allBtns,"-1"),changeElementsTabindex(allAnchors,"-1"),closeModalBtn.setAttribute("tabindex","0"),closeModalBtn.addEventListener("click",closeModal)}function getResult(a,b){let c="REMIS";switch(a){case"Scissors":switch(b){case"Scissors":break;case"Spock":c="YOU LOSE";break;case"Lizard":c="YOU WIN";break;case"Rock":c="YOU LOSE";break;case"Paper":c="YOU WIN";}break;case"Spock":switch(b){case"Spock":break;case"Lizard":c="YOU LOSE";break;case"Rock":c="YOU WIN";break;case"Paper":c="YOU LOSE";break;case"Scissors":c="YOU WIN";}break;case"Lizard":switch(b){case"Lizard":break;case"Rock":c="YOU LOSE";break;case"Paper":c="YOU WIN";break;case"Scissors":c="YOU LOSE";break;case"Spock":c="YOU WIN";}break;case"Rock":switch(b){case"Rock":break;case"Paper":c="YOU LOSE";break;case"Scissors":c="YOU WIN";break;case"Spock":c="YOU LOSE";break;case"Lizard":c="YOU WIN";}break;case"Paper":switch(b){case"Paper":break;case"Scissors":c="YOU LOSE";break;case"Spock":c="YOU WIN";break;case"Lizard":c="YOU LOSE";break;case"Rock":c="YOU WIN";}}return c}